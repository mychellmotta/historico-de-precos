<div class="container contact">
    <h5>Histórico de compras</h5>
    <h6>Entre com os dados da compra</h6>
    <hr />
    <div class="row">
      <div class="col s12">
        <div
          id="msg-login"
          class="card-panel white-text"
          [class.red]="!this.isSuccess"
          [class.blue]="this.isSuccess"
          *ngIf="this.isShowMessage"
        >
          {{ this.message }}
        </div>
      </div>
      <form class="col s12" #form="ngForm" (submit)="onSubmit()">
        <div class="row">
        <div class="input-field col s12">
          <input
            id="input-name"
            name="input-name"
            type="text"
            class="validate"
            [(ngModel)]="this.product.name"
            pattern="^[A-Z].*"
            #name="ngModel"
            required
          />
          <label for="input-name">Produto/serviço (*)</label>
          <div class="red-text" [hidden]="name.valid || name.untouched">
            Por favor, informe corretamente o nome do produto
          </div>
          <div class="input-field col s12">
            <input
              id="input-price"
              name="input-price"
              type="text"
              class="validate money"
              [(ngModel)]="this.product.price"
              mask="separator.2"
              [thousandSeparator]="'.'"
              [decimalMarker]="','"
              prefix="R$ "
              [dropSpecialCharacters]="true"
              [showMaskTyped]="false"
              #price="ngModel"
              required
            />
            <label for="input-price" class="active">Valor pago</label>
          </div>
        </div></div>

        <button
          class="btn waves-effect waves-light blue-grey darken-4"
          type="submit"
          [disabled]="!form.valid"
        >
          Salvar
          <i class="material-icons right">send</i>
        </button>
      </form>
    </div>

    <!-- Tabela de produtos -->
    <h5>Produtos cadastrados</h5>
    <table class="highlight" *ngIf="products && products!.length > 0">
      <thead>
        <tr>
          <th>Nome</th>
          <th>Preço</th>
          <th class="right">Ações</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let p of products">
          <td>{{ p.id }} - {{ p.name }}</td>
          <td>{{ p.price | currency: "BRL" }}</td>
          <td class="right">
         <!--    <a
              ><i class="material-icons my-icon-size" (click)="onEdit(p)"
                >edit</i
              ></a
            > -->
            <a
              ><i
                class="material-icons my-icon-size" (click)="onDelete(p)"
                >delete</i
              ></a
            >
          </td>
        </tr>
      </tbody>
    </table>

    <div *ngIf="!products || products!.length == 0">
      <div class="row">
        <div class="center-align">
          <i class="col s12 material-icons large">mood_bad</i>
          <span class="col s12 flow-text"
            >Ainda não temos produtos/serviços cadastrados!</span
          >
        </div>
      </div>
    </div>
  </div>
